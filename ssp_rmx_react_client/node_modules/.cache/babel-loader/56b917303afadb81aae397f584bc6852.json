{"ast":null,"code":"import _classCallCheck from\"/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AuthService from\"../services/auth.service\";import Form from\"react-validation/build/form\";import CheckButton from\"react-validation/build/button\";var required=function required(value){if(!value){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},\"This field is required!\");}};var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleLogin=_this.handleLogin.bind(_assertThisInitialized(_this));_this.onChangeUsername=_this.onChangeUsername.bind(_assertThisInitialized(_this));_this.onChangePassword=_this.onChangePassword.bind(_assertThisInitialized(_this));_this.onChangeTenant=_this.onChangeTenant.bind(_assertThisInitialized(_this));_this.state={username:\"\",password:\"\",tenant:\"\",loading:false,message:\"\"};return _this;}_createClass(Login,[{key:\"onChangeUsername\",value:function onChangeUsername(e){this.setState({username:e.target.value});}},{key:\"onChangePassword\",value:function onChangePassword(e){this.setState({password:e.target.value});}},{key:\"onChangeTenant\",value:function onChangeTenant(e){this.setState({tenant:e.target.value});}},{key:\"handleLogin\",value:function handleLogin(e){var _this2=this;e.preventDefault();this.setState({message:\"\",loading:true});this.form.validateAll();if(this.checkBtn.context._errors.length===0){AuthService.login(this.state.username,this.state.password,this.state.tenant).then(function(){_this2.props.history.push(\"/predict\");window.location.reload();},function(error){var resMessage=error.response&&error.response.data&&error.response.data.message||error.message||error.toString();_this2.setState({loading:false,message:resMessage});});}else{this.setState({loading:false});}}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(Form,{onSubmit:this.handleLogin,ref:function ref(c){_this3.form=c;}},/*#__PURE__*/React.createElement(\"h3\",null,\"Sign In\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Tenant Id\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Enter tenant id\",name:\"tenant\",value:this.state.tenant,onChange:this.onChangeTenant,validations:[required]})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Email address\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"Enter email\",name:\"username\",value:this.state.username,onChange:this.onChangeUsername,validations:[required]})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"label\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Enter password\",name:\"password\",value:this.state.password,onChange:this.onChangePassword,validations:[required]})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"custom-control custom-checkbox\"},/*#__PURE__*/React.createElement(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customCheck1\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-control-label\",htmlFor:\"customCheck1\"},\"Remember me\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-grid\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-block\",disabled:this.state.loading},this.state.loading&&/*#__PURE__*/React.createElement(\"span\",{className:\"spinner-border spinner-border-sm\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Login\"))),/*#__PURE__*/React.createElement(\"p\",{className:\"forgot-password text-right\"},\"Forgot \",/*#__PURE__*/React.createElement(\"a\",{href:\"/predict\"},\"password?\")),this.state.message&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",role:\"alert\"},this.state.message)),/*#__PURE__*/React.createElement(CheckButton,{style:{display:\"none\"},ref:function ref(c){_this3.checkBtn=c;}}));}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"names":["React","Component","AuthService","Form","CheckButton","required","value","Login","props","handleLogin","bind","onChangeUsername","onChangePassword","onChangeTenant","state","username","password","tenant","loading","message","e","setState","target","preventDefault","form","validateAll","checkBtn","context","_errors","length","login","then","history","push","window","location","reload","error","resMessage","response","data","toString","c","display"],"sources":["/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/src/components/login.component.js"],"sourcesContent":["import React, { Component } from 'react'\nimport AuthService from \"../services/auth.service\";\n\nimport Form from \"react-validation/build/form\";\nimport CheckButton from \"react-validation/build/button\";\n\nconst required = value => {\n  if (!value) {\n    return (\n      <div className=\"alert alert-danger\" role=\"alert\">\n        This field is required!\n      </div>\n    );\n  }\n};\n\nexport default class Login extends Component {\n\n\tconstructor(props) {\n\t    super(props);\n\t      \n\t    this.handleLogin = this.handleLogin.bind(this);\n\t    this.onChangeUsername = this.onChangeUsername.bind(this);\n\t    this.onChangePassword = this.onChangePassword.bind(this);\n\t    this.onChangeTenant = this.onChangeTenant.bind(this);\n\t\n\t    this.state = {\n\t      username: \"\",\n\t      password: \"\",\n\t      tenant: \"\",\n\t      loading: false,\n\t      message: \"\"\n\t    };\n\t}\n\t\n\tonChangeUsername(e) {\n\t    this.setState({\n\t      username: e.target.value\n\t    });\n\t}\n\t\n\tonChangePassword(e) {\n\t    this.setState({\n\t      password: e.target.value\n\t    });\n\t}\n\t\n\tonChangeTenant(e) {\n\t    this.setState({\n\t    \ttenant: e.target.value\n\t    });\n\t}\n  \n\thandleLogin(e) {\n\t    e.preventDefault();\n\t    this.setState({\n\t      message: \"\",\n\t      loading: true\n\t    });\n\t\n\t    this.form.validateAll();\n\t\t    \n      \tif (this.checkBtn.context._errors.length === 0) {\n\t      AuthService.login(this.state.username, this.state.password,this.state.tenant ).then(\n\t        () => {\n\t          this.props.history.push(\"/predict\");\n\t          window.location.reload();\n\t        },\n\t        error => {\n\t          const resMessage =\n\t            (error.response &&\n\t              error.response.data &&\n\t              error.response.data.message) ||\n\t            error.message ||\n\t            error.toString();\n\t\n\t          this.setState({\n\t            loading: false,\n\t            message: resMessage\n\t          });\n\t        }\n\t      );\n\t    } else {\n\t      this.setState({\n\t        loading: false\n\t      });\n\t    }\n\t    \n\t}\n  \n\trender() {\n\t    return (\n\t    \t\n\t      <Form\n\t      \tonSubmit={this.handleLogin}\n            ref={c => {\n              this.form = c;\n            }}\n\t      >\n\t        <h3>Sign In</h3>\n\t        <div className=\"mb-3\">\n\t          <label>Tenant Id</label>\n\t          <input\n\t            type=\"text\"\n\t            className=\"form-control\"\n\t            placeholder=\"Enter tenant id\"\n\t            name=\"tenant\"\n\t            value={this.state.tenant}\n\t            onChange={this.onChangeTenant}\n\t            validations={[required]}\n\t          />\n\t        </div>\n\t        <div className=\"mb-3\">\n\t          <label>Email address</label>\n\t          <input\n\t            type=\"email\"\n\t            className=\"form-control\"\n\t            placeholder=\"Enter email\"\n\t            name=\"username\"\n                value={this.state.username}\n                onChange={this.onChangeUsername}\n                validations={[required]}\n\t          />\n\t        </div>\n\t        <div className=\"mb-3\">\n\t          <label>Password</label>\n\t          <input\n\t            type=\"password\"\n\t            className=\"form-control\"\n\t            placeholder=\"Enter password\"\n\t            name=\"password\"\n                value={this.state.password}\n                onChange={this.onChangePassword}\n                validations={[required]}\n\t          />\n\t        </div>\n\t        <div className=\"mb-3\">\n\t          <div className=\"custom-control custom-checkbox\">\n\t            <input\n\t              type=\"checkbox\"\n\t              className=\"custom-control-input\"\n\t              id=\"customCheck1\"\n\t            />\n\t            <label className=\"custom-control-label\" htmlFor=\"customCheck1\">\n\t              Remember me\n\t            </label>\n\t          </div>\n\t        </div>\n\t        <div className=\"d-grid\">\n\t          <button className=\"btn btn-primary btn-block\"\n                disabled={this.state.loading} >\n\t             {this.state.loading && (\n                  <span className=\"spinner-border spinner-border-sm\"></span>\n                )}\n                <span>Login</span>\n\t          </button>\n\t        </div>\n\t        \n\t        <p className=\"forgot-password text-right\">\n\t          Forgot <a href=\"/predict\">password?</a>\n\t        </p>\n\t        \n\t        {this.state.message && (\n              <div className=\"form-group\">\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {this.state.message}\n                </div>\n              </div>\n            )}\n\t        \n\t        <CheckButton\n              style={{ display: \"none\" }}\n              ref={c => {\n                this.checkBtn = c;\n              }}\n            />\n\t      </Form>\n\t     \n\t    )\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}