{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"https://localhost:3001/oauth/\";\n\nclass AuthService {\n  login(username, password, tenant) {\n    console.log(\"Tenant:\" + tenant);\n    console.log(\"User:\" + username);\n    console.log(\"Password:\" + password);\n    var axiosConfig = {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      auth: {\n        username: 'ssp_domain',\n        password: 'password'\n      }\n    };\n    var formData = new URLSearchParams();\n    formData.append('grant_type', 'password');\n    formData.append('username', tenant + \"_\" + username);\n    formData.append('password', password);\n    console.log(\"formData:\" + formData);\n    return axios.post(API_URL + \"token\", formData, axiosConfig).then(response => {\n      if (response.data) {\n        localStorage.setItem('user', response.data + '}');\n      }\n\n      return JSON.stringify(response.data);\n    });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  getCurrentUser() {\n    var authObj = JSON.parse(localStorage.getItem('user'));\n    return authObj;\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"names":["axios","API_URL","AuthService","login","username","password","tenant","console","log","axiosConfig","headers","auth","formData","URLSearchParams","append","post","then","response","data","localStorage","setItem","JSON","stringify","logout","removeItem","getCurrentUser","authObj","parse","getItem"],"sources":["/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/src/services/auth.service.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"https://localhost:3001/oauth/\";\n\nclass AuthService {\n\t\n  login(username, password, tenant) {\n\t\n\tconsole.log(\"Tenant:\"+tenant);\n\tconsole.log(\"User:\"+username);\n\tconsole.log(\"Password:\"+password);\n\t\n\tvar  axiosConfig = {\n\t  headers: {\n\t\t  \"Content-Type\": \"application/x-www-form-urlencoded\"\n\t  },\n\t  auth: {\n\t      username: 'ssp_domain',\n\t      password: 'password'\n\t  }\n\t};\n\t\n\tvar formData = new URLSearchParams();\n\t  formData.append('grant_type', 'password');\n\t  formData.append('username', tenant+\"_\"+username);\n\t  formData.append('password', password);\n\t\n\tconsole.log(\"formData:\"+formData);\n\t\n    return axios\n      .post(API_URL + \"token\", formData ,axiosConfig )\n      .then(response => {\n        if (response.data) {\n          localStorage.setItem('user', response.data+'}');\n        }\n\n        return JSON.stringify(response.data);\n      });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  getCurrentUser() { \n\tvar authObj = JSON.parse(localStorage.getItem('user'));\n    return authObj;\n  }\n}\n\nexport default new AuthService();"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,+BAAhB;;AAEA,MAAMC,WAAN,CAAkB;EAEhBC,KAAK,CAACC,QAAD,EAAWC,QAAX,EAAqBC,MAArB,EAA6B;IAEnCC,OAAO,CAACC,GAAR,CAAY,YAAUF,MAAtB;IACAC,OAAO,CAACC,GAAR,CAAY,UAAQJ,QAApB;IACAG,OAAO,CAACC,GAAR,CAAY,cAAYH,QAAxB;IAEA,IAAKI,WAAW,GAAG;MACjBC,OAAO,EAAE;QACR,gBAAgB;MADR,CADQ;MAIjBC,IAAI,EAAE;QACFP,QAAQ,EAAE,YADR;QAEFC,QAAQ,EAAE;MAFR;IAJW,CAAnB;IAUA,IAAIO,QAAQ,GAAG,IAAIC,eAAJ,EAAf;IACED,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8B,UAA9B;IACAF,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BR,MAAM,GAAC,GAAP,GAAWF,QAAvC;IACAQ,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BT,QAA5B;IAEFE,OAAO,CAACC,GAAR,CAAY,cAAYI,QAAxB;IAEG,OAAOZ,KAAK,CACTe,IADI,CACCd,OAAO,GAAG,OADX,EACoBW,QADpB,EAC8BH,WAD9B,EAEJO,IAFI,CAECC,QAAQ,IAAI;MAChB,IAAIA,QAAQ,CAACC,IAAb,EAAmB;QACjBC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BH,QAAQ,CAACC,IAAT,GAAc,GAA3C;MACD;;MAED,OAAOG,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACC,IAAxB,CAAP;IACD,CARI,CAAP;EASD;;EAEDK,MAAM,GAAG;IACPJ,YAAY,CAACK,UAAb,CAAwB,MAAxB;EACD;;EAEDC,cAAc,GAAG;IAClB,IAAIC,OAAO,GAAGL,IAAI,CAACM,KAAL,CAAWR,YAAY,CAACS,OAAb,CAAqB,MAArB,CAAX,CAAd;IACG,OAAOF,OAAP;EACD;;AA3Ce;;AA8ClB,eAAe,IAAIxB,WAAJ,EAAf"},"metadata":{},"sourceType":"module"}