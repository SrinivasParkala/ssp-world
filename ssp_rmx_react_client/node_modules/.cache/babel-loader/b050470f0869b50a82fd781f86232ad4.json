{"ast":null,"code":"import axios from \"axios\";\nimport configData from \"../config.json\";\n\nrequire('dotenv').config();\n\nconst dotenv = require('dotenv'); //cd ssp_rmx_react_client/src/proxy\n//node httpsProxy.js\n//curl --location --request POST https://localhost:3001/oauth/token --header 'Authorization: Basic c3NwX2RvbWFpbjpwYXNzd29yZA==' --header 'Content-Type: application/x-www-form-urlencoded' -d 'grant_type=password' -d 'username=system_sshettigar75@gmail' -d 'password=password' -k\n//curl --location --request GET https://localhost:3001/sspService/rmxApis/v1.0/getOAuthDetails -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NTE4Mjk5MDgsInVzZXJfbmFtZSI6InN5c3RlbV9zc2hldHRpZ2FyNzVAZ21haWwiLCJhdXRob3JpdGllcyI6WyJzdXBlcnVzZXIiXSwianRpIjoiNTQyNTJkYWUtNmYzZi00ZmFkLWJkOTEtODE1Zjc5MGE5MjE3IiwiY2xpZW50X2lkIjoic3NwX2RvbWFpbiIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdfQ.IQDa2ilGlFnvvtDxUBxzMvTy-TqG1Yv9RWaybpTLoNz-UIx7KGUldBPbBDAAZNYwEr_VNBAB_7IuN0ejIXJ27qhIbjsM7P8cGqU9v80t4RG3w3wlO9-5U6UATMB5bQP1dFaJ8CmmLo1vcxjIsplYxXGfaHJ5PAfS3fk1q3tQYsym1XwhyP97UzMrcIog8TPFFY9wox9ID5DNuelhhOvr7eneoHe4Zb2hZxB44Z61w4qxRJE_X9rokGO9YwjtIUxem7wI_zbfySwDIonbOtEPFTZskt5Po5UKSr8QZp9SbmGMELrLUZKV5RPe5j3sZefPcJFiR4DyFtmbjfOSAOmQ6Q' -k \n\n\nclass AuthService {\n  login(username, password, tenant) {\n    console.log(\"ENV Data:\" + process.env.KEYSTORE_FILE);\n    console.log(\"Config Data:\" + configData.OAUTH_URL);\n    console.log(\"Tenant:\" + tenant);\n    console.log(\"User:\" + username);\n    console.log(\"Password:\" + password);\n    var axiosConfig = {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      auth: {\n        username: configData.OAUTH_USER,\n        password: configData.OAUTH_PASSWORD\n      }\n    };\n    var formData = new URLSearchParams();\n    formData.append('grant_type', configData.GRANT_TYPE);\n    formData.append('username', tenant + \"_\" + username);\n    formData.append('password', password);\n    console.log(\"formData:\" + formData);\n    return axios.post(configData.OAUTH_URL + \"token\", formData, axiosConfig).then(response => {\n      if (response.data) {\n        console.log(\"User Stored:\" + response.data);\n        localStorage.setItem('user', JSON.stringify(response.data + '}'));\n      }\n\n      return JSON.stringify(response.data);\n    });\n  }\n\n  logout() {\n    console.log(\"Remove user from store\");\n    localStorage.removeItem(\"user\");\n  }\n\n  getCurrentUser() {\n    console.log(\"User:\" + localStorage.getItem('user'));\n    var authObj = JSON.parse(localStorage.getItem('user'));\n    return authObj;\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"names":["axios","configData","require","config","dotenv","AuthService","login","username","password","tenant","console","log","process","env","KEYSTORE_FILE","OAUTH_URL","axiosConfig","headers","auth","OAUTH_USER","OAUTH_PASSWORD","formData","URLSearchParams","append","GRANT_TYPE","post","then","response","data","localStorage","setItem","JSON","stringify","logout","removeItem","getCurrentUser","getItem","authObj","parse"],"sources":["/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/src/services/auth.service.js"],"sourcesContent":["import axios from \"axios\";\nimport configData from \"../config.json\";\nrequire('dotenv').config()\nconst dotenv=require('dotenv');\n\n//cd ssp_rmx_react_client/src/proxy\n//node httpsProxy.js\n\n//curl --location --request POST https://localhost:3001/oauth/token --header 'Authorization: Basic c3NwX2RvbWFpbjpwYXNzd29yZA==' --header 'Content-Type: application/x-www-form-urlencoded' -d 'grant_type=password' -d 'username=system_sshettigar75@gmail' -d 'password=password' -k\n//curl --location --request GET https://localhost:3001/sspService/rmxApis/v1.0/getOAuthDetails -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NTE4Mjk5MDgsInVzZXJfbmFtZSI6InN5c3RlbV9zc2hldHRpZ2FyNzVAZ21haWwiLCJhdXRob3JpdGllcyI6WyJzdXBlcnVzZXIiXSwianRpIjoiNTQyNTJkYWUtNmYzZi00ZmFkLWJkOTEtODE1Zjc5MGE5MjE3IiwiY2xpZW50X2lkIjoic3NwX2RvbWFpbiIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdfQ.IQDa2ilGlFnvvtDxUBxzMvTy-TqG1Yv9RWaybpTLoNz-UIx7KGUldBPbBDAAZNYwEr_VNBAB_7IuN0ejIXJ27qhIbjsM7P8cGqU9v80t4RG3w3wlO9-5U6UATMB5bQP1dFaJ8CmmLo1vcxjIsplYxXGfaHJ5PAfS3fk1q3tQYsym1XwhyP97UzMrcIog8TPFFY9wox9ID5DNuelhhOvr7eneoHe4Zb2hZxB44Z61w4qxRJE_X9rokGO9YwjtIUxem7wI_zbfySwDIonbOtEPFTZskt5Po5UKSr8QZp9SbmGMELrLUZKV5RPe5j3sZefPcJFiR4DyFtmbjfOSAOmQ6Q' -k \n\nclass AuthService {\n\t\n  login(username, password, tenant) {\n\t\n\tconsole.log(\"ENV Data:\"+process.env.KEYSTORE_FILE);\n\t\n\tconsole.log(\"Config Data:\"+configData.OAUTH_URL);\n\tconsole.log(\"Tenant:\"+tenant);\n\tconsole.log(\"User:\"+username);\n\tconsole.log(\"Password:\"+password);\n\t\n\tvar  axiosConfig = {\n\t  headers: {\n\t      \"Access-Control-Allow-Origin\": \"*\",\n\t\t  \"Content-Type\": \"application/x-www-form-urlencoded\"\n\t  },\n\t  auth: {\n\t      username: configData.OAUTH_USER,\n\t      password: configData.OAUTH_PASSWORD\n\t  }\n\t};\n\t\n\tvar formData = new URLSearchParams();\n\t  formData.append('grant_type', configData.GRANT_TYPE);\n\t  formData.append('username', tenant+\"_\"+username);\n\t  formData.append('password', password);\n\t\n\tconsole.log(\"formData:\"+formData);\n\t\n    return axios\n      .post(configData.OAUTH_URL + \"token\", formData ,axiosConfig )\n      .then(response => {\n        if (response.data) {\n          console.log(\"User Stored:\"+response.data);\n          localStorage.setItem('user', JSON.stringify(response.data+'}'));\n        }\n\n        return JSON.stringify(response.data);\n      });\n  }\n\n  logout() {\n    console.log(\"Remove user from store\");\n    localStorage.removeItem(\"user\");\n  }\n\n  getCurrentUser() { \n    console.log(\"User:\"+localStorage.getItem('user'));\n\tvar authObj = JSON.parse(localStorage.getItem('user'));\n    return authObj;\n  }\n}\n\nexport default new AuthService();"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,gBAAvB;;AACAC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AACA,MAAMC,MAAM,GAACF,OAAO,CAAC,QAAD,CAApB,C,CAEA;AACA;AAEA;AACA;;;AAEA,MAAMG,WAAN,CAAkB;EAEhBC,KAAK,CAACC,QAAD,EAAWC,QAAX,EAAqBC,MAArB,EAA6B;IAEnCC,OAAO,CAACC,GAAR,CAAY,cAAYC,OAAO,CAACC,GAAR,CAAYC,aAApC;IAEAJ,OAAO,CAACC,GAAR,CAAY,iBAAeV,UAAU,CAACc,SAAtC;IACAL,OAAO,CAACC,GAAR,CAAY,YAAUF,MAAtB;IACAC,OAAO,CAACC,GAAR,CAAY,UAAQJ,QAApB;IACAG,OAAO,CAACC,GAAR,CAAY,cAAYH,QAAxB;IAEA,IAAKQ,WAAW,GAAG;MACjBC,OAAO,EAAE;QACL,+BAA+B,GAD1B;QAER,gBAAgB;MAFR,CADQ;MAKjBC,IAAI,EAAE;QACFX,QAAQ,EAAEN,UAAU,CAACkB,UADnB;QAEFX,QAAQ,EAAEP,UAAU,CAACmB;MAFnB;IALW,CAAnB;IAWA,IAAIC,QAAQ,GAAG,IAAIC,eAAJ,EAAf;IACED,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8BtB,UAAU,CAACuB,UAAzC;IACAH,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4Bd,MAAM,GAAC,GAAP,GAAWF,QAAvC;IACAc,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4Bf,QAA5B;IAEFE,OAAO,CAACC,GAAR,CAAY,cAAYU,QAAxB;IAEG,OAAOrB,KAAK,CACTyB,IADI,CACCxB,UAAU,CAACc,SAAX,GAAuB,OADxB,EACiCM,QADjC,EAC2CL,WAD3C,EAEJU,IAFI,CAECC,QAAQ,IAAI;MAChB,IAAIA,QAAQ,CAACC,IAAb,EAAmB;QACjBlB,OAAO,CAACC,GAAR,CAAY,iBAAegB,QAAQ,CAACC,IAApC;QACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACC,IAAT,GAAc,GAA7B,CAA7B;MACD;;MAED,OAAOG,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACC,IAAxB,CAAP;IACD,CATI,CAAP;EAUD;;EAEDK,MAAM,GAAG;IACPvB,OAAO,CAACC,GAAR,CAAY,wBAAZ;IACAkB,YAAY,CAACK,UAAb,CAAwB,MAAxB;EACD;;EAEDC,cAAc,GAAG;IACfzB,OAAO,CAACC,GAAR,CAAY,UAAQkB,YAAY,CAACO,OAAb,CAAqB,MAArB,CAApB;IACH,IAAIC,OAAO,GAAGN,IAAI,CAACO,KAAL,CAAWT,YAAY,CAACO,OAAb,CAAqB,MAArB,CAAX,CAAd;IACG,OAAOC,OAAP;EACD;;AAlDe;;AAqDlB,eAAe,IAAIhC,WAAJ,EAAf"},"metadata":{},"sourceType":"module"}