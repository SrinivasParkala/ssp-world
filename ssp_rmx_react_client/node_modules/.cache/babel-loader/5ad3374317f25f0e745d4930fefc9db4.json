{"ast":null,"code":"import _classCallCheck from\"/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from\"axios\";import configData from\"../config.json\";require('dotenv').config();var dotenv=require('dotenv');//cd ssp_rmx_react_client/src/proxy\n//node httpsProxy.js\n//curl --location --request POST https://localhost:3001/oauth/token --header 'Authorization: Basic c3NwX2RvbWFpbjpwYXNzd29yZA==' --header 'Content-Type: application/x-www-form-urlencoded' -d 'grant_type=password' -d 'username=system_sshettigar75@gmail' -d 'password=password' -k\n//curl --location --request GET https://localhost:3001/sspService/rmxApis/v1.0/getOAuthDetails -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NTE4Mjk5MDgsInVzZXJfbmFtZSI6InN5c3RlbV9zc2hldHRpZ2FyNzVAZ21haWwiLCJhdXRob3JpdGllcyI6WyJzdXBlcnVzZXIiXSwianRpIjoiNTQyNTJkYWUtNmYzZi00ZmFkLWJkOTEtODE1Zjc5MGE5MjE3IiwiY2xpZW50X2lkIjoic3NwX2RvbWFpbiIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdfQ.IQDa2ilGlFnvvtDxUBxzMvTy-TqG1Yv9RWaybpTLoNz-UIx7KGUldBPbBDAAZNYwEr_VNBAB_7IuN0ejIXJ27qhIbjsM7P8cGqU9v80t4RG3w3wlO9-5U6UATMB5bQP1dFaJ8CmmLo1vcxjIsplYxXGfaHJ5PAfS3fk1q3tQYsym1XwhyP97UzMrcIog8TPFFY9wox9ID5DNuelhhOvr7eneoHe4Zb2hZxB44Z61w4qxRJE_X9rokGO9YwjtIUxem7wI_zbfySwDIonbOtEPFTZskt5Po5UKSr8QZp9SbmGMELrLUZKV5RPe5j3sZefPcJFiR4DyFtmbjfOSAOmQ6Q' -k \nvar AuthService=/*#__PURE__*/function(){function AuthService(){_classCallCheck(this,AuthService);}_createClass(AuthService,[{key:\"login\",value:function login(username,password,tenant){console.log(\"ENV Data:\"+process.env.KEYSTORE_FILE);console.log(\"Config Data:\"+configData.OAUTH_URL);console.log(\"Tenant:\"+tenant);console.log(\"User:\"+username);console.log(\"Password:\"+password);var axiosConfig={headers:{\"Access-Control-Allow-Origin\":\"*\",\"Content-Type\":\"application/x-www-form-urlencoded\"},auth:{username:configData.OAUTH_USER,password:configData.OAUTH_PASSWORD}};var formData=new URLSearchParams();formData.append('grant_type',configData.GRANT_TYPE);formData.append('username',tenant+\"_\"+username);formData.append('password',password);console.log(\"formData:\"+formData);return axios.post(configData.OAUTH_URL+\"token\",formData,axiosConfig).then(function(response){if(response.data){console.log(\"User Stored:\"+response.data);localStorage.setItem('user',JSON.stringify(response.data+'}'));}return JSON.stringify(response.data);});}},{key:\"logout\",value:function logout(){console.log(\"Remove user from store\");localStorage.removeItem(\"user\");}},{key:\"getCurrentUser\",value:function getCurrentUser(){console.log(\"User:\"+localStorage.getItem('user'));var authObj=JSON.parse(localStorage.getItem('user'));return authObj;}}]);return AuthService;}();export default new AuthService();","map":{"version":3,"names":["axios","configData","require","config","dotenv","AuthService","username","password","tenant","console","log","process","env","KEYSTORE_FILE","OAUTH_URL","axiosConfig","headers","auth","OAUTH_USER","OAUTH_PASSWORD","formData","URLSearchParams","append","GRANT_TYPE","post","then","response","data","localStorage","setItem","JSON","stringify","removeItem","getItem","authObj","parse"],"sources":["/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/src/services/auth.service.js"],"sourcesContent":["import axios from \"axios\";\nimport configData from \"../config.json\";\nrequire('dotenv').config()\nconst dotenv=require('dotenv');\n\n//cd ssp_rmx_react_client/src/proxy\n//node httpsProxy.js\n\n//curl --location --request POST https://localhost:3001/oauth/token --header 'Authorization: Basic c3NwX2RvbWFpbjpwYXNzd29yZA==' --header 'Content-Type: application/x-www-form-urlencoded' -d 'grant_type=password' -d 'username=system_sshettigar75@gmail' -d 'password=password' -k\n//curl --location --request GET https://localhost:3001/sspService/rmxApis/v1.0/getOAuthDetails -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NTE4Mjk5MDgsInVzZXJfbmFtZSI6InN5c3RlbV9zc2hldHRpZ2FyNzVAZ21haWwiLCJhdXRob3JpdGllcyI6WyJzdXBlcnVzZXIiXSwianRpIjoiNTQyNTJkYWUtNmYzZi00ZmFkLWJkOTEtODE1Zjc5MGE5MjE3IiwiY2xpZW50X2lkIjoic3NwX2RvbWFpbiIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdfQ.IQDa2ilGlFnvvtDxUBxzMvTy-TqG1Yv9RWaybpTLoNz-UIx7KGUldBPbBDAAZNYwEr_VNBAB_7IuN0ejIXJ27qhIbjsM7P8cGqU9v80t4RG3w3wlO9-5U6UATMB5bQP1dFaJ8CmmLo1vcxjIsplYxXGfaHJ5PAfS3fk1q3tQYsym1XwhyP97UzMrcIog8TPFFY9wox9ID5DNuelhhOvr7eneoHe4Zb2hZxB44Z61w4qxRJE_X9rokGO9YwjtIUxem7wI_zbfySwDIonbOtEPFTZskt5Po5UKSr8QZp9SbmGMELrLUZKV5RPe5j3sZefPcJFiR4DyFtmbjfOSAOmQ6Q' -k \n\nclass AuthService {\n\t\n  login(username, password, tenant) {\n\t\n\tconsole.log(\"ENV Data:\"+process.env.KEYSTORE_FILE);\n\t\n\tconsole.log(\"Config Data:\"+configData.OAUTH_URL);\n\tconsole.log(\"Tenant:\"+tenant);\n\tconsole.log(\"User:\"+username);\n\tconsole.log(\"Password:\"+password);\n\t\n\tvar  axiosConfig = {\n\t  headers: {\n\t      \"Access-Control-Allow-Origin\": \"*\",\n\t\t  \"Content-Type\": \"application/x-www-form-urlencoded\"\n\t  },\n\t  auth: {\n\t      username: configData.OAUTH_USER,\n\t      password: configData.OAUTH_PASSWORD\n\t  }\n\t};\n\t\n\tvar formData = new URLSearchParams();\n\t  formData.append('grant_type', configData.GRANT_TYPE);\n\t  formData.append('username', tenant+\"_\"+username);\n\t  formData.append('password', password);\n\t\n\tconsole.log(\"formData:\"+formData);\n\t\n    return axios\n      .post(configData.OAUTH_URL + \"token\", formData ,axiosConfig )\n      .then(response => {\n        if (response.data) {\n          console.log(\"User Stored:\"+response.data);\n          localStorage.setItem('user', JSON.stringify(response.data+'}'));\n        }\n\n        return JSON.stringify(response.data);\n      });\n  }\n\n  logout() {\n    console.log(\"Remove user from store\");\n    localStorage.removeItem(\"user\");\n  }\n\n  getCurrentUser() { \n    console.log(\"User:\"+localStorage.getItem('user'));\n\tvar authObj = JSON.parse(localStorage.getItem('user'));\n    return authObj;\n  }\n}\n\nexport default new AuthService();"],"mappings":"gXAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,gBAAvB,CACAC,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB,GACA,GAAMC,CAAAA,MAAM,CAACF,OAAO,CAAC,QAAD,CAApB,CAEA;AACA;AAEA;AACA;GAEMG,CAAAA,W,gIAEJ,eAAMC,QAAN,CAAgBC,QAAhB,CAA0BC,MAA1B,CAAkC,CAEnCC,OAAO,CAACC,GAAR,CAAY,YAAYC,OAAO,CAACC,GAAR,CAAYC,aAApC,EAEAJ,OAAO,CAACC,GAAR,CAAY,eAAeT,UAAU,CAACa,SAAtC,EACAL,OAAO,CAACC,GAAR,CAAY,UAAUF,MAAtB,EACAC,OAAO,CAACC,GAAR,CAAY,QAAQJ,QAApB,EACAG,OAAO,CAACC,GAAR,CAAY,YAAYH,QAAxB,EAEA,GAAKQ,CAAAA,WAAW,CAAG,CACjBC,OAAO,CAAE,CACL,8BAA+B,GAD1B,CAER,eAAgB,mCAFR,CADQ,CAKjBC,IAAI,CAAE,CACFX,QAAQ,CAAEL,UAAU,CAACiB,UADnB,CAEFX,QAAQ,CAAEN,UAAU,CAACkB,cAFnB,CALW,CAAnB,CAWA,GAAIC,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,eAAJ,EAAf,CACED,QAAQ,CAACE,MAAT,CAAgB,YAAhB,CAA8BrB,UAAU,CAACsB,UAAzC,EACAH,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4Bd,MAAM,CAAC,GAAP,CAAWF,QAAvC,EACAc,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4Bf,QAA5B,EAEFE,OAAO,CAACC,GAAR,CAAY,YAAYU,QAAxB,EAEG,MAAOpB,CAAAA,KAAK,CACTwB,IADI,CACCvB,UAAU,CAACa,SAAX,CAAuB,OADxB,CACiCM,QADjC,CAC2CL,WAD3C,EAEJU,IAFI,CAEC,SAAAC,QAAQ,CAAI,CAChB,GAAIA,QAAQ,CAACC,IAAb,CAAmB,CACjBlB,OAAO,CAACC,GAAR,CAAY,eAAegB,QAAQ,CAACC,IAApC,EACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACC,IAAT,CAAc,GAA7B,CAA7B,EACD,CAED,MAAOG,CAAAA,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACC,IAAxB,CAAP,CACD,CATI,CAAP,CAUD,C,sBAED,iBAAS,CACPlB,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACAkB,YAAY,CAACI,UAAb,CAAwB,MAAxB,EACD,C,8BAED,yBAAiB,CACfvB,OAAO,CAACC,GAAR,CAAY,QAAQkB,YAAY,CAACK,OAAb,CAAqB,MAArB,CAApB,EACH,GAAIC,CAAAA,OAAO,CAAGJ,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACK,OAAb,CAAqB,MAArB,CAAX,CAAd,CACG,MAAOC,CAAAA,OAAP,CACD,C,2BAGH,cAAe,IAAI7B,CAAAA,WAAJ,EAAf"},"metadata":{},"sourceType":"module"}