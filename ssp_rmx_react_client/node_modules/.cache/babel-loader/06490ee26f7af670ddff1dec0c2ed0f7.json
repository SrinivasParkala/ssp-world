{"ast":null,"code":"import axios from \"axios\";\nimport configData from \"../config.json\";\nconst API_URL = \"https://localhost:3001/oauth/\"; //cd ssp_rmx_react_client/src/proxy\n//node httpsProxy.js\n//curl --location --request POST https://localhost:3001/oauth/token --header 'Authorization: Basic c3NwX2RvbWFpbjpwYXNzd29yZA==' --header 'Content-Type: application/x-www-form-urlencoded' -d 'grant_type=password' -d 'username=system_sshettigar75@gmail' -d 'password=password' -k\n//curl --location --request GET https://localhost:3001/sspService/rmxApis/v1.0/getOAuthDetails -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NTE4Mjk5MDgsInVzZXJfbmFtZSI6InN5c3RlbV9zc2hldHRpZ2FyNzVAZ21haWwiLCJhdXRob3JpdGllcyI6WyJzdXBlcnVzZXIiXSwianRpIjoiNTQyNTJkYWUtNmYzZi00ZmFkLWJkOTEtODE1Zjc5MGE5MjE3IiwiY2xpZW50X2lkIjoic3NwX2RvbWFpbiIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdfQ.IQDa2ilGlFnvvtDxUBxzMvTy-TqG1Yv9RWaybpTLoNz-UIx7KGUldBPbBDAAZNYwEr_VNBAB_7IuN0ejIXJ27qhIbjsM7P8cGqU9v80t4RG3w3wlO9-5U6UATMB5bQP1dFaJ8CmmLo1vcxjIsplYxXGfaHJ5PAfS3fk1q3tQYsym1XwhyP97UzMrcIog8TPFFY9wox9ID5DNuelhhOvr7eneoHe4Zb2hZxB44Z61w4qxRJE_X9rokGO9YwjtIUxem7wI_zbfySwDIonbOtEPFTZskt5Po5UKSr8QZp9SbmGMELrLUZKV5RPe5j3sZefPcJFiR4DyFtmbjfOSAOmQ6Q' -k \n\nclass AuthService {\n  login(username, password, tenant) {\n    console.log(\"Config Data:\" + configData.OAUTH_URL);\n    console.log(\"Tenant:\" + tenant);\n    console.log(\"User:\" + username);\n    console.log(\"Password:\" + password);\n    var axiosConfig = {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      auth: {\n        username: 'ssp_domain',\n        password: 'password'\n      }\n    };\n    var formData = new URLSearchParams();\n    formData.append('grant_type', 'password');\n    formData.append('username', tenant + \"_\" + username);\n    formData.append('password', password);\n    console.log(\"formData:\" + formData);\n    return axios.post(API_URL + \"token\", formData, axiosConfig).then(response => {\n      if (response.data) {\n        console.log(\"User Stored:\" + response.data);\n        localStorage.setItem('user', response.data + '}');\n      }\n\n      return JSON.stringify(response.data);\n    });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  getCurrentUser() {\n    console.log(\"User:\" + localStorage.getItem('user'));\n    var authObj = JSON.parse(localStorage.getItem('user'));\n    return authObj;\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"names":["axios","configData","API_URL","AuthService","login","username","password","tenant","console","log","OAUTH_URL","axiosConfig","headers","auth","formData","URLSearchParams","append","post","then","response","data","localStorage","setItem","JSON","stringify","logout","removeItem","getCurrentUser","getItem","authObj","parse"],"sources":["/Users/srinivasaparkala/workspace/publisher-x/ssp_rmx_react_client/src/services/auth.service.js"],"sourcesContent":["import axios from \"axios\";\nimport configData from \"../config.json\";\n\nconst API_URL = \"https://localhost:3001/oauth/\";\n\n//cd ssp_rmx_react_client/src/proxy\n//node httpsProxy.js\n//curl --location --request POST https://localhost:3001/oauth/token --header 'Authorization: Basic c3NwX2RvbWFpbjpwYXNzd29yZA==' --header 'Content-Type: application/x-www-form-urlencoded' -d 'grant_type=password' -d 'username=system_sshettigar75@gmail' -d 'password=password' -k\n//curl --location --request GET https://localhost:3001/sspService/rmxApis/v1.0/getOAuthDetails -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NTE4Mjk5MDgsInVzZXJfbmFtZSI6InN5c3RlbV9zc2hldHRpZ2FyNzVAZ21haWwiLCJhdXRob3JpdGllcyI6WyJzdXBlcnVzZXIiXSwianRpIjoiNTQyNTJkYWUtNmYzZi00ZmFkLWJkOTEtODE1Zjc5MGE5MjE3IiwiY2xpZW50X2lkIjoic3NwX2RvbWFpbiIsInNjb3BlIjpbInJlYWQiLCJ3cml0ZSJdfQ.IQDa2ilGlFnvvtDxUBxzMvTy-TqG1Yv9RWaybpTLoNz-UIx7KGUldBPbBDAAZNYwEr_VNBAB_7IuN0ejIXJ27qhIbjsM7P8cGqU9v80t4RG3w3wlO9-5U6UATMB5bQP1dFaJ8CmmLo1vcxjIsplYxXGfaHJ5PAfS3fk1q3tQYsym1XwhyP97UzMrcIog8TPFFY9wox9ID5DNuelhhOvr7eneoHe4Zb2hZxB44Z61w4qxRJE_X9rokGO9YwjtIUxem7wI_zbfySwDIonbOtEPFTZskt5Po5UKSr8QZp9SbmGMELrLUZKV5RPe5j3sZefPcJFiR4DyFtmbjfOSAOmQ6Q' -k \n\nclass AuthService {\n\t\n  login(username, password, tenant) {\n\t\n\tconsole.log(\"Config Data:\"+configData.OAUTH_URL);\n\tconsole.log(\"Tenant:\"+tenant);\n\tconsole.log(\"User:\"+username);\n\tconsole.log(\"Password:\"+password);\n\t\n\tvar  axiosConfig = {\n\t  headers: {\n\t\t  \"Content-Type\": \"application/x-www-form-urlencoded\"\n\t  },\n\t  auth: {\n\t      username: 'ssp_domain',\n\t      password: 'password'\n\t  }\n\t};\n\t\n\tvar formData = new URLSearchParams();\n\t  formData.append('grant_type', 'password');\n\t  formData.append('username', tenant+\"_\"+username);\n\t  formData.append('password', password);\n\t\n\tconsole.log(\"formData:\"+formData);\n\t\n    return axios\n      .post(API_URL + \"token\", formData ,axiosConfig )\n      .then(response => {\n        if (response.data) {\n          console.log(\"User Stored:\"+response.data);\n          localStorage.setItem('user', response.data+'}');\n        }\n\n        return JSON.stringify(response.data);\n      });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  getCurrentUser() { \n    console.log(\"User:\"+localStorage.getItem('user'));\n\tvar authObj = JSON.parse(localStorage.getItem('user'));\n    return authObj;\n  }\n}\n\nexport default new AuthService();"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,gBAAvB;AAEA,MAAMC,OAAO,GAAG,+BAAhB,C,CAEA;AACA;AACA;AACA;;AAEA,MAAMC,WAAN,CAAkB;EAEhBC,KAAK,CAACC,QAAD,EAAWC,QAAX,EAAqBC,MAArB,EAA6B;IAEnCC,OAAO,CAACC,GAAR,CAAY,iBAAeR,UAAU,CAACS,SAAtC;IACAF,OAAO,CAACC,GAAR,CAAY,YAAUF,MAAtB;IACAC,OAAO,CAACC,GAAR,CAAY,UAAQJ,QAApB;IACAG,OAAO,CAACC,GAAR,CAAY,cAAYH,QAAxB;IAEA,IAAKK,WAAW,GAAG;MACjBC,OAAO,EAAE;QACR,gBAAgB;MADR,CADQ;MAIjBC,IAAI,EAAE;QACFR,QAAQ,EAAE,YADR;QAEFC,QAAQ,EAAE;MAFR;IAJW,CAAnB;IAUA,IAAIQ,QAAQ,GAAG,IAAIC,eAAJ,EAAf;IACED,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8B,UAA9B;IACAF,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BT,MAAM,GAAC,GAAP,GAAWF,QAAvC;IACAS,QAAQ,CAACE,MAAT,CAAgB,UAAhB,EAA4BV,QAA5B;IAEFE,OAAO,CAACC,GAAR,CAAY,cAAYK,QAAxB;IAEG,OAAOd,KAAK,CACTiB,IADI,CACCf,OAAO,GAAG,OADX,EACoBY,QADpB,EAC8BH,WAD9B,EAEJO,IAFI,CAECC,QAAQ,IAAI;MAChB,IAAIA,QAAQ,CAACC,IAAb,EAAmB;QACjBZ,OAAO,CAACC,GAAR,CAAY,iBAAeU,QAAQ,CAACC,IAApC;QACAC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BH,QAAQ,CAACC,IAAT,GAAc,GAA3C;MACD;;MAED,OAAOG,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACC,IAAxB,CAAP;IACD,CATI,CAAP;EAUD;;EAEDK,MAAM,GAAG;IACPJ,YAAY,CAACK,UAAb,CAAwB,MAAxB;EACD;;EAEDC,cAAc,GAAG;IACfnB,OAAO,CAACC,GAAR,CAAY,UAAQY,YAAY,CAACO,OAAb,CAAqB,MAArB,CAApB;IACH,IAAIC,OAAO,GAAGN,IAAI,CAACO,KAAL,CAAWT,YAAY,CAACO,OAAb,CAAqB,MAArB,CAAX,CAAd;IACG,OAAOC,OAAP;EACD;;AA9Ce;;AAiDlB,eAAe,IAAI1B,WAAJ,EAAf"},"metadata":{},"sourceType":"module"}